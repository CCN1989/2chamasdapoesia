<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Inscri√ß√£o ‚Äî 2¬∫ Chama's da Poesia</title>
<style>
  * { box-sizing: border-box; }
  body { font-family: Arial, sans-serif; background: #FFDEAD; margin: 0; display: flex; justify-content: center; }
  .container { max-width: 880px; width: 100%; margin: 20px auto; background: #fff; border-radius: 12px; box-shadow: 0 8px 30px rgba(0,0,0,.08); overflow: hidden; }
  header img { width: 100%; display: block; }
  header h1 { text-align: center; margin: 20px 10px 5px; font-size: 24px; }
  header p { text-align: center; margin-bottom: 15px; color: #555; }
  #contador { background: #ff0000; color: #fff; text-align: center; padding: 14px; font-weight: bold; }
  main { padding: 24px; }
  .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
  .full { grid-column: 1 / -1; }
  label { font-size: 14px; display: block; margin-bottom: 6px; font-weight: bold; }
  input, select { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #ccc; font-size: 16px; }
  .download-link { display: block; text-align: center; margin: 10px 0; padding: 12px; border: 2px dashed #0f172a; border-radius: 10px; text-decoration: none; color: #0f172a; font-weight: bold; }
  button { background: #0f172a; color: #fff; border: none; padding: 15px 30px; border-radius: 10px; font-size: 16px; cursor: pointer; width: 100%; }
  button:disabled { background: #64748b; }
  .msg { display: none; margin-top: 20px; padding: 15px; border-radius: 8px; text-align: center; font-weight: bold; white-space: pre-wrap; }
  .success { background: #e6fffa; color: #065f46; border: 1px solid #34d399; }
  .warn { background: #fff4e5; color: #92400e; border: 1px solid #fbbf24; }
  footer { text-align: center; padding: 20px; font-size: 12px; border-top: 1px solid #eee; }
  @media(max-width:600px){ .grid { grid-template-columns: 1fr; } }
</style>
</head>
<body>
<div class="container">
  <header>
    <img src="https://raw.githubusercontent.com/CCN1989/Imagens/refs/heads/main/testeira.png">
    <h1>Inscri√ß√£o ‚Äî 2¬∫ Chama's da Poesia</h1>
    <p>Preencha os dados abaixo com aten√ß√£o</p>
  </header>
  <div id="contador">‚è≥ <span id="tempoRestante"></span></div>
  <main>
    <form id="ficha">
      <div class="grid">
        <div class="full"><label>Nome do Concorrente</label><input id="nome" required></div>
        <div class="full">
          <label>Categoria</label>
          <select id="categoria" required>
            <option value="">‚Äî selecione ‚Äî</option>
            <option>Prenda Pr√©-Mirim</option><option>Pe√£o Pr√©-Mirim</option>
            <option>Prenda Mirim</option><option>Pe√£o Mirim</option>
            <option>Prenda Juvenil</option><option>Pe√£o Juvenil</option>
            <option>Prenda Adulta</option><option>Pe√£o Adulto</option>
            <option>Prenda Veterana</option><option>Pe√£o Veterano</option>
            <option>Prenda Xiru</option><option>Pe√£o Xiru</option>
          </select>
        </div>
        <div class="full"><label>Data de Nascimento</label><input type="date" id="nascimento" required></div>
        <div class="full"><label>Entidade Tradicionalista</label><input id="entidade" required></div>
        <div><label>Cidade</label><input id="cidade" required></div>
        <div><label>Regi√£o Tradicionalista</label><input id="regiao" required></div>
        <div class="full">
          <label>Amadrinhador</label>
          <select id="amadrinhador" required>
            <option value="false">N√£o</option><option value="true">Sim</option>
          </select>
        </div>
        <div><label>WhatsApp</label><input id="telefone" placeholder="(00) 00000-0000" required></div>
        <div><label>E-mail</label><input type="email" id="email" required></div>
        <div class="full"><label>Cart√£o Tradicionalista</label><input id="cartao" required></div>
        <div class="full">
          <a href="http://drive.google.com/u/0/uc?id=1HQv-1oisMiBJc-FFTsH5LWhiW16OCciP&export=download" target="_blank" class="download-link" id="btnRegulamento">üìÑ BAIXAR REGULAMENTO</a>
        </div>
        <div class="full">
          <input type="checkbox" id="aceite" disabled required> <label for="aceite" style="display:inline">Li e aceito o regulamento</label>
        </div>
      </div>
      <button type="submit" id="btnSubmit" style="margin-top:20px">Enviar Inscri√ß√£o</button>
      <div id="msgSuccess" class="msg success"></div>
      <div id="msgWarn" class="msg warn"></div>
    </form>
  </main>
</div>

<script>
// Certifique-se de que esta URL √© a da sua √∫ltima implanta√ß√£o (Nova Vers√£o)
const GAS_WEB_APP_URL = "https://script.google.com/macros/s/AKfycbykSCINzCrEZKX7cRo9bMJfgnGwfHvLswmdDP9rzeBWD6S0ndmAK5IwIfVxB0OrKm3hSg/exec";

// Contador
const encerramento = new Date('2026-02-10T23:59:59-03:00');
function atualizarContador() {
  const diff = encerramento - new Date();
  if (diff <= 0) { document.getElementById('ficha').style.display='none'; return; }
  const d = Math.floor(diff/86400000); const h = Math.floor(diff/3600000)%24;
  const m = Math.floor(diff/60000)%60; const s = Math.floor(diff/1000)%60;
  document.getElementById('tempoRestante').innerText = `Encerra em: ${d}d ${h}h ${m}m ${s}s`;
}
setInterval(atualizarContador, 1000); atualizarContador();

document.getElementById('btnRegulamento').onclick = () => { document.getElementById('aceite').disabled = false; };

document.getElementById('ficha').onsubmit = async (e) => {
  e.preventDefault();
  const btn = document.getElementById('btnSubmit');
  const msgS = document.getElementById('msgSuccess');
  const msgW = document.getElementById('msgWarn');
  const aceite = document.getElementById('aceite');
  
  btn.disabled = true; btn.innerText = "Enviando...";
  msgS.style.display = msgW.style.display = 'none';

  // Tratamento da data
  const inputData = document.getElementById('nascimento').value;
  let dataFormatada = "";
  if (inputData) {
    const parts = inputData.split('-');
    dataFormatada = `${parts[2]}/${parts[1]}/${parts[0]}`;
  }

  const payload = {
    nome: document.getElementById('nome').value,
    categoria: document.getElementById('categoria').value,
    nascimento: dataFormatada,
    entidade: document.getElementById('entidade').value,
    cidade: document.getElementById('cidade').value,
    regiao: document.getElementById('regiao').value,
    amadrinhador: document.getElementById('amadrinhador').value === 'true',
    telefone: document.getElementById('telefone').value,
    email: document.getElementById('email').value,
    cartao: document.getElementById('cartao').value
  };

  try {
    const resp = await fetch(GAS_WEB_APP_URL, { 
      method: 'POST', 
      body: JSON.stringify(payload) 
    });
    
    const res = await resp.json();
    
    if (res.success) {
      msgS.innerText = `‚úÖ SUCESSO!\nN√∫mero de Inscri√ß√£o: ${res.code}\n${res.espera ? '‚ö†Ô∏è Voc√™ est√° na lista de espera.' : 'Inscri√ß√£o confirmada.'}`;
      msgS.style.display = 'block';
      document.getElementById('ficha').reset();
      aceite.disabled = true;
    } else {
      msgW.innerText = "‚ö†Ô∏è " + res.message; 
      msgW.style.display = 'block';
    }
  } catch (e) {
    // Caso ocorra erro de CORS, mas a planilha tenha recebido (como voc√™ relatou antes)
    msgS.innerText = "‚úÖ Inscri√ß√£o Enviada!\n\nVerifique seu e-mail em alguns minutos para confirmar seu n√∫mero de inscri√ß√£o e os dados.";
    msgS.style.display = 'block';
    document.getElementById('ficha').reset();
    aceite.disabled = true;
  } finally {
    btn.disabled = false; 
    btn.innerText = "Enviar Inscri√ß√£o";
    window.scrollTo({top: 0, behavior: 'smooth'});
  }
};
</script>
</body>
</html>



















































