<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Inscri√ß√£o ‚Äî 2¬∫ Chama's da Poesia</title>

<style>
* { box-sizing: border-box; }
body {
  font-family: Arial, sans-serif;
  background: #FFDEAD;
  margin: 0;
  display: flex;
  justify-content: center;
}
.container {
  max-width: 880px;
  width: 100%;
  margin: 0 auto 40px;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 8px 30px rgba(0,0,0,.08);
  overflow: hidden;
}
header img { width: 100%; display: block; }
header h1 { text-align: center; margin: 20px 10px 5px; }
header p { text-align: center; margin-bottom: 15px; color: #555; }

#contador {
  background: #ff0000;
  color: #000;
  text-align: center;
  padding: 14px;
  font-weight: bold;
}
#contador.encerrado { background: #7f1d1d; color:#fff; }

main { padding: 24px; }

.grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}
.full { grid-column: 1 / -1; }

label { font-size: 14px; display: block; margin-bottom: 6px; }
input, select {
  width: 100%;
  padding: 10px;
  border-radius: 8px;
  border: 1px solid #ccc;
}

.checkbox-row {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 10px;
}

.download-link {
  display: inline-block;
  margin-top: 10px;
  padding: 10px 14px;
  border-radius: 10px;
  border: 1px dashed #ccc;
  font-weight: bold;
  text-decoration: none;
  color: #000;
}

.controls {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-top: 20px;
  flex-wrap: wrap;
}

button {
  background: #0f172a;
  color: #fff;
  border: none;
  padding: 12px 20px;
  border-radius: 10px;
  font-size: 15px;
  cursor: pointer;
}

button.secondary {
  background: #eee;
  color: #000;
}

.msg {
  display: none;
  margin-top: 16px;
  padding: 12px;
  border-radius: 8px;
  text-align: center;
  font-weight: bold;
  white-space: pre-line;
}

.success { background: #e6fffa; color: #065f46; }
.warn { background: #fff4e5; color: #92400e; }

footer {
  text-align: center;
  font-size: 13px;
  padding: 14px;
  border-top: 1px solid #ddd;
}

@media(max-width:700px){
  .grid { grid-template-columns: 1fr; }
}
</style>
</head>

<body>
<div class="container">

<header>
  <img src="https://raw.githubusercontent.com/CCN1989/Imagens/refs/heads/main/testeira.png">
  <h1>Inscri√ß√£o ‚Äî 2¬∫ Chama's da Poesia</h1>
  <p>Preencha todos os campos (inscri√ß√µes at√© 10/02/2026)</p>
</header>

<div id="contador">
 ‚è≥ Inscri√ß√µes encerram em <span id="tempoRestante"></span>
</div>

<main>
<form id="ficha">

<div class="grid">

<div class="full">
<label>Nome do Concorrente</label>
<input id="nome" required>
</div>

<div class="full">
<label>Categoria</label>
<select id="categoria" required>
<option value="">‚Äî selecione ‚Äî</option>
<option value="Prenda Pr√©-Mirim">Prenda Pr√©-Mirim</option>
<option value="Pe√£o Pr√©-Mirim">Pe√£o Pr√©-Mirim</option>
<option value="Prenda Mirim">Prenda Mirim</option>
<option value="Pe√£o Mirim">Pe√£o Mirim</option>
<option value="Prenda Juvenil">Prenda Juvenil</option>
<option value="Pe√£o Juvenil">Pe√£o Juvenil</option>
<option value="Prenda Adulta">Prenda Adulta</option>
<option value="Pe√£o Adulto">Pe√£o Adulto</option>
<option value="Prenda Veterana">Prenda Veterana</option>
<option value="Pe√£o Veterano">Pe√£o Veterano</option>
<option value="Prenda Xiru">Prenda Xiru</option>
<option value="Pe√£o Xiru">Pe√£o Xiru</option>

</select>
</div>

<div class="full">
<label>Entidade Tradicionalista</label>
<input id="entidade" required>
</div>

<div>
<label>Cidade</label>
<input id="cidade" required>
</div>

<div>
<label>Regi√£o Tradicionalista</label>
<input id="regiao" required>
</div>

<div class="full">
<label>Amadrinhador</label>
<select id="amadrinhador" required>
<option value="">‚Äî selecione ‚Äî</option>
<option value="true">Sim</option>
<option value="false">N√£o</option>
</select>
</div>

<div>
<label>Telefone (WhatsApp)</label>
<input id="telefone" required>
</div>

<div>
<label>E-mail</label>
<input type="email" id="email" required>
</div>

<div class="full">
<label>Cart√£o Tradicionalista</label>
<input id="cartao" required>
</div>

<div class="full" style="text-align:center;">
<a href="http://drive.google.com/u/0/uc?id=1HQv-1oisMiBJc-FFTsH5LWhiW16OCciP&export=download"
   target="_blank" class="download-link" id="btnRegulamento">
üìÑ Baixar regulamento
</a>
</div>

<div class="full checkbox-row">
<input type="checkbox" id="aceite" disabled>
<label for="aceite">Li e aceito o regulamento</label>
</div>

</div>

<div class="controls">
<button type="submit">Enviar inscri√ß√£o</button>
<button type="button" class="secondary"
 onclick="window.location.href='https://www.ctgchamanativa.com.br'">
Voltar ao site
</button>
</div>

<div id="msgSuccess" class="msg success"></div>
<div id="msgWarn" class="msg warn"></div>

</form>
</main>

<footer>
CTG Chama Nativa ‚Ä¢ Sistema de Inscri√ß√µes ‚Ä¢ Concurso Declama√ß√£o
</footer>

</div>

<script>
const GAS_WEB_APP_URL =
"https://script.google.com/macros/s/AKfycby1dygu_SxWExEcbdJSHPp76zAi1l_YUgZDH4SLgoVIDpvayW04ArqZ69Q9FitODsfAAQ/exec";

const encerramento = new Date('2026-02-10T23:59:59-03:00');
const tempoSpan = document.getElementById('tempoRestante');
const contadorDiv = document.getElementById('contador');
const form = document.getElementById('ficha');
const aceite = document.getElementById('aceite');
const msgSuccess = document.getElementById('msgSuccess');
const msgWarn = document.getElementById('msgWarn');
const btnSubmit = form.querySelector('button[type="submit"]');

// ‚è≥ CONTADOR
function atualizarContador() {
  const diff = encerramento - new Date();
  if (diff <= 0) {
    contadorDiv.classList.add('encerrado');
    tempoSpan.innerText = 'INSCRI√á√ïES ENCERRADAS';
    form.style.display = 'none';
    return;
  }
  const d = Math.floor(diff / 86400000);
  const h = Math.floor(diff / 3600000) % 24;
  const m = Math.floor(diff / 60000) % 60;
  const s = Math.floor(diff / 1000) % 60;
  tempoSpan.innerText = `${d}d ${h}h ${m}m ${s}s`;
}
setInterval(atualizarContador, 1000);
atualizarContador();

// üìÑ LIBERA ACEITE
document.getElementById('btnRegulamento').onclick = () => {
  aceite.disabled = false;
};

// üì§ SUBMIT
form.addEventListener('submit', async e => {
  e.preventDefault();

  msgSuccess.style.display = 'none';
  msgWarn.style.display = 'none';

  if (!aceite.checked) {
    msgWarn.innerText = '‚ö†Ô∏è √â necess√°rio aceitar o regulamento.';
    msgWarn.style.display = 'block';
    return;
  }

  btnSubmit.disabled = true;
  btnSubmit.innerText = 'Enviando...';

 const payload = {
  nome: nome.value,
  cartao: cartao.value,
  categoria: categoria.value, // ‚úÖ CORRETO
  entidade: entidade.value,
  cidade: cidade.value,
  regiao: regiao.value,
  amadrinhador: amadrinhador.value === 'true',
  telefone: telefone.value,
  email: email.value,
  aceite: true
};


  try {
    const r = await fetch(GAS_WEB_APP_URL, {
      method: 'POST',
      body: JSON.stringify(payload)
    });

    const json = await r.json();

    if (json.success) {
      msgSuccess.innerText =
        json.espera
        ? `‚è≥ Inscri√ß√£o realizada em LISTA DE ESPERA.\nN√∫mero: ${json.code}`
        : `‚úÖ Inscri√ß√£o confirmada!\nN√∫mero: ${json.code}`;

      msgSuccess.style.display = 'block';
      form.reset();
      aceite.disabled = true;
    } else {
      msgWarn.innerText = json.message || 'Erro ao enviar inscri√ß√£o';
      msgWarn.style.display = 'block';
    }

  } catch (err) {
    msgWarn.innerText = '‚ùå Erro de conex√£o. Tente novamente.';
    msgWarn.style.display = 'block';
  } finally {
    btnSubmit.disabled = false;
    btnSubmit.innerText = 'Enviar inscri√ß√£o';
  }
});
</script>

</body>
</html>


































